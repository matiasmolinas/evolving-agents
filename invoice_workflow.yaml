scenario_name: Invoice Processing Workflow
domain: general
description: >
  This workflow processes raw invoice documents through a series of operations including document analysis, data extraction, calculation verification, error detection, and summary generation. Each step is handled by a dedicated agent to ensure accurate and efficient processing of invoice data.

steps:
  - type: DEFINE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    code_snippet: |
      Implement using DocumentAnalysisTool to handle various invoice formats and analyze document structure.
    capabilities:
      - document_analysis
      - format_handling

  - type: DEFINE
    item_type: AGENT
    name: DataExtractionAgent
    code_snippet: |
      Utilize DataExtractionTool to extract invoice number, date, vendor, items, subtotal, tax, and total.
    capabilities:
      - data_extraction

  - type: DEFINE
    item_type: AGENT
    name: CalculationVerificationAgent
    code_snippet: |
      Use CalculationVerificationTool to ensure subtotal and tax add up to the total.
    capabilities:
      - calculation_verification

  - type: DEFINE
    item_type: AGENT
    name: ErrorDetectionAgent
    code_snippet: |
      Implement using ErrorDetectionTool to identify and handle errors in invoice processing.
    capabilities:
      - error_detection
      - format_handling

  - type: DEFINE
    item_type: AGENT
    name: SummaryGenerationAgent
    code_snippet: |
      Leverage SummaryGenerationTool to create structured summaries with key insights.
    capabilities:
      - summary_generation

  - type: CREATE
    item_type: AGENT
    name: DocumentAnalyzerAgent

  - type: CREATE
    item_type: AGENT
    name: DataExtractionAgent

  - type: CREATE
    item_type: AGENT
    name: CalculationVerificationAgent

  - type: CREATE
    item_type: AGENT
    name: ErrorDetectionAgent

  - type: CREATE
    item_type: AGENT
    name: SummaryGenerationAgent

  - type: EXECUTE
    item_type: AGENT
    name: DocumentAnalyzerAgent
    input_data:
      user_input: |
        Raw invoice documents in various formats

  - type: EXECUTE
    item_type: AGENT
    name: DataExtractionAgent
    input_data:
      user_input: |
        Analyzed invoice data from DocumentAnalyzerAgent

  - type: EXECUTE
    item_type: AGENT
    name: CalculationVerificationAgent
    input_data:
      user_input: |
        Extracted invoice details from DataExtractionAgent

  - type: EXECUTE
    item_type: AGENT
    name: ErrorDetectionAgent
    input_data:
      user_input: |
        Verified invoice details from CalculationVerificationAgent

  - type: EXECUTE
    item_type: AGENT
    name: SummaryGenerationAgent
    input_data:
      user_input: |
        Error-checked invoice details from ErrorDetectionAgent